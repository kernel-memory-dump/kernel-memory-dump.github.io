<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KATARINA</title>
    <style>
     


    </style>
</head>
<body>
    <div id="animation-container"></div>

    <!-- PixiJS and GSAP Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/6.0.4/browser/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>

    <script>
        // Handle device pixel ratio
        const dpr = window.devicePixelRatio || 1;

        // Set up scaled dimensions based on DPR
        const width = window.innerWidth;
        const height = window.innerHeight;

        // Initialize PixiJS app with adjusted canvas resolution for high-DPI screens
        const app = new PIXI.Application({
            width: width * dpr,
            height: height * dpr,
            resolution: dpr,
            transparent: true
        });

        // Append the canvas and scale it down to fit the actual CSS dimensions
        app.view.style.width = `${width}px`;
        app.view.style.height = `${height}px`;
        document.getElementById("animation-container").appendChild(app.view);

        // Define global scale factor for large images
        const scaleFactor = 0.15;  // Initial scale factor for larger images
        const letterHeight = 2048 * scaleFactor; // Approximate height of each letter after scaling

        // Letter images
        const letters = ['K', 'A', 'T', 'A', 'R', 'I', 'N', 'A'];
        const images = [
            'K.png', 'A1.png', 'T.png',
            'A2.png', 'R.png', 'I.png',
            'N.png', 'A3.png'
        ];

        // Load each image into a sprite and store in an array
        const sprites = images.map((src, index) => {
            const sprite = PIXI.Sprite.from(src);
            sprite.alpha = 0;  // Initially hidden
            sprite.anchor.set(0.5);
            sprite.scale.set(scaleFactor);  // Set initial scale
            app.stage.addChild(sprite);
            return sprite;
        });

        // GSAP timeline to animate each sprite with a single fade-in
        const timeline = gsap.timeline();

        // Define initial vertical spacing to fit within the screen height
        const initialSpacing = Math.min(150, (height - letterHeight) / letters.length);
        
        // Calculate the starting Y position to center the letters within the available height
        const startY = (height - (letters.length - 1) * initialSpacing) / 2;

        // Loop through each sprite to position and fade in each letter vertically
        sprites.forEach((sprite, index) => {
            // Position each sprite in its designated place vertically
            let currentY = startY + index * initialSpacing;
            sprite.position.set(width / 2, currentY);
            
            // Fade in each sprite without fading out
            timeline.to(sprite, {
                alpha: 1,
                duration: 1, // Fade-in duration
                delay: index * 0.5 // Staggered delay for each letter
            });
        });

        // Add final step to increase spacing between letters and scale them down by 50%
        timeline.add(() => {
            sprites.forEach((sprite, index) => {
                let finalY = startY + index * letterHeight * 0.75; // Set spacing to 75% of the letter height
                gsap.to(sprite.position, {
                    y: finalY,
                    duration: 1
                });
                // Scale down each letter by 50%
                gsap.to(sprite.scale, {
                    x: scaleFactor * 0.5, 
                    y: scaleFactor * 0.5,
                    duration: 1
                });
            });
        });
    </script>
</body>
</html>
